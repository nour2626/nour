<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Level HTML Template by Tooplate</title>
<!--

Tooplate 2095 Level

https://www.tooplate.com/view/2095-level

-->
    <!-- load stylesheets -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">  <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">                <!-- Font Awesome -->
    <link rel="stylesheet" href="css/bootstrap.min.css">                                      <!-- Bootstrap style -->
    <link rel="stylesheet" type="text/css" href="slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="slick/slick-theme.css"/>
    <link rel="stylesheet" type="text/css" href="css/datepicker.css"/>
    <link rel="stylesheet" href="css/tooplate-style.css">                                   <!-- Templatemo style -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
          <![endif]-->
</head>

    <body>
        
        <div class="tm-main-content" id="top">
            <div class="tm-top-bar-bg"></div>
            <div class="tm-top-bar" id="tm-top-bar">
                <!-- Top Navbar -->
                <div class="container">
                    <div class="row">
                        
                        <nav class="navbar navbar-expand-lg narbar-light">
                            <a class="navbar-brand mr-auto" href="#">
                                Echos de la Tunisie
                            </a>
                            <button type="button" id="nav-toggle" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#mainNav" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                            <div id="mainNav" class="collapse navbar-collapse tm-bg-white">
                                <ul class="navbar-nav ml-auto">
                                  <li class="nav-item">
                                    <a class="nav-link" href="#top">Home <span class="sr-only">(current)</span></a>
                                  </li>
                                  
                                  <li class="nav-item">
                                    <a class="nav-link" href="#tm-section-4">categories</a>
                                  </li>
                                  <li class="nav-item">
                                    <a class="nav-link" href="#tm-section-5">sites</a>
                                  </li>
                                  

                                  
                                  <li class="nav-item">
                                    <a class="nav-link" href="#tm-section-6">Contact Us</a>
                                  </li>
                                </ul>
                            </div>                            
                        </nav>            
                    </div>
                </div>
            </div>
            <div class="tm-section tm-bg-img" id="tm-section-1">
                <div class="tm-bg-white ie-container-width-fix-2">
                    <div class="container ie-h-align-center-fix">
                        <div class="row">
                            <div class="col-xs-12 ml-auto mr-auto ie-container-width-fix">
                                <form action="index.html" method="get" class="tm-search-form tm-section-pad-2">
                                    <div class="form-row tm-search-form-row">
                                        <div class="form-group tm-form-element tm-form-element-100">
                                            <i class="fa fa-map-marker fa-2x tm-form-element-icon"></i>
                                            <input name="city" type="text" class="form-control" id="inputCity" placeholder="Type your destination...">
                                        </div>
                                        <div class="form-group tm-form-element tm-form-element-50">
                                            <i class="fa fa-calendar fa-2x tm-form-element-icon"></i>
                                            <input name="check-in" type="text" class="form-control" id="inputCheckIn" placeholder="Check In">
                                        </div>
                                        <div class="form-group tm-form-element tm-form-element-50">
                                            <i class="fa fa-calendar fa-2x tm-form-element-icon"></i>
                                            <input name="check-out" type="text" class="form-control" id="inputCheckOut" placeholder="Check Out">
                                        </div>
                                    </div>
                                    <div class="form-row tm-search-form-row">
                                        <div class="form-group tm-form-element tm-form-element-2">                                            
                                            <select name="adult" class="form-control tm-select" id="adult">
                                                <option value="">Adult</option>
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                                <option value="5">5</option>
                                                <option value="6">6</option>
                                                <option value="7">7</option>
                                                <option value="8">8</option>
                                                <option value="9">9</option>
                                                <option value="10">10</option>
                                            </select>
                                            <i class="fa fa-2x fa-user tm-form-element-icon"></i>
                                        </div>
                                        <div class="form-group tm-form-element tm-form-element-2">                                            
                                            <select name="children" class="form-control tm-select" id="children">
                                                <option value="">Children</option>
                                                <option value="0">0</option>
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                                <option value="5">5</option>
                                                <option value="6">6</option>
                                                <option value="7">7</option>
                                                <option value="8">8</option>
                                                <option value="9">9</option>
                                                <option value="10">10</option>
                                            </select>
                                            <i class="fa fa-user tm-form-element-icon tm-form-element-icon-small"></i>
                                        </div>
                                        <div class="form-group tm-form-element tm-form-element-2">
                                            <select name="room" class="form-control tm-select" id="room">
                                                <option value="">Room</option>
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                                <option value="5">5</option>
                                                <option value="6">6</option>
                                                <option value="7">7</option>
                                                <option value="8">8</option>
                                                <option value="9">9</option>
                                                <option value="10">10</option>
                                            </select>
                                            <i class="fa fa-2x fa-bed tm-form-element-icon"></i>
                                        </div>
                                        <div class="form-group tm-form-element tm-form-element-2">
                                            <button type="submit" class="btn btn-primary tm-btn-search">Check Availability</button>
                                        </div>
                                      </div>
                                      <div class="form-row clearfix pl-2 pr-2 tm-fx-col-xs">
                                          <p class="tm-margin-b-0">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                                          <a href="#" class="ie-10-ml-auto ml-auto mt-1 tm-font-semibold tm-color-primary">Need Help?</a>
                                      </div>
                                </form>
                            </div>                        
                        </div>      
                    </div>
                </div>                  
            </div>
            
            <div class="tm-section-2">
                <div class="container">
                    <div class="row">
                        <div class="col text-center">
                            <h2 class="tm-section-title">We are here to help you?</h2>
                            <p class="tm-color-white tm-section-subtitle">Subscribe to get our newsletters</p>
                            <a href="#" class="tm-color-white tm-btn-white-bordered">Subscribe Newletters</a>
                        </div>                
                    </div>
                </div>        
            </div>
            
            <div class="tm-section tm-position-relative">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none" class="tm-section-down-arrow">
                    <polygon fill="#ee5057" points="0,0  100,0  50,60"></polygon>                   
                </svg> 
                <div class="container tm-pt-5 tm-pb-4">
                    <div class="row text-center">
                        <article class="col-sm-12 col-md-4 col-lg-4 col-xl-4 tm-article">                            
                            <i class="fa tm-fa-6x fa-legal tm-color-primary tm-margin-b-20"></i>
                            <h3 class="tm-color-primary tm-article-title-1">Level HTML Template by Tooplate website</h3>
                            <p>You are allowed to download, edit and use this template for your business or client websites.</p>
                            <a href="#" class="text-uppercase tm-color-primary tm-font-semibold">Continue reading...</a>
                        </article>
                        <article class="col-sm-12 col-md-4 col-lg-4 col-xl-4 tm-article">                            
                            <i class="fa tm-fa-6x fa-plane tm-color-primary tm-margin-b-20"></i>
                            <h3 class="tm-color-primary tm-article-title-1">Original Website Template Producer</h3>
                            <p>You are NOT allowed to re-distribute the downloadable template ZIP file on any website.</p>
                            <a href="#" class="text-uppercase tm-color-primary tm-font-semibold">Continue reading...</a>                            
                        </article>
                        <article class="col-sm-12 col-md-4 col-lg-4 col-xl-4 tm-article">                           
                            <i class="fa tm-fa-6x fa-life-saver tm-color-primary tm-margin-b-20"></i>
                            <h3 class="tm-color-primary tm-article-title-1">Contact us if you have any question</h3>
                            <p>If you see this template being distributed on any other site, that is an illegal copy.</p>
                            <a href="#" class="text-uppercase tm-color-primary tm-font-semibold">Continue reading...</a>                           
                        </article>
                    </div>        
                </div>
            </div>
           
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
























<?php
include "C:/xampp/htdocs/projetweb2025/Model/categories.php";
include "C:/xampp/htdocs/projetweb2025/Controller/categoriesController.php";

$categoriesC = new categoriesController();
$list = $categoriesC->categoriesList();
?>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Categories</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        .category-card {
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 20px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease-in-out;
        }

        .category-card:hover {
            transform: translateY(-5px);
        }

        .category-card h5 {
            color: #E52B50;
            margin-bottom: 10px;
        }

        .category-card h5 a {
            text-decoration: none;
        }

        .category-card h5 a:hover {
            text-decoration: underline;
        }

        .category-card p {
            color: #555;
        }

        .category-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 5px;
            margin-bottom: 15px;
        }
    </style>
</head>

<body>
    <div class="tm-section tm-section-pad tm-bg-gray" id="tm-section-4">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 col-md-12 col-lg-8 col-xl-8">
                    <div class="tm-article-carousel">
                        <?php if (!empty($list)) : ?>
                            <?php foreach ($list as $category) : ?>
                                <div class="category-card">
                                    <!-- Display category image -->
                                    <img src="/projetweb2025/<?= htmlspecialchars($category['image']); ?>" class="card-img-top" alt="<?= htmlspecialchars($category['nom_categorie']); ?>" style="height: 200px; object-fit: cover;">

                                    <h5 class="card-title">
                                        <a href="view_sites.php?category_id=<?= htmlspecialchars($category['id']); ?>" class="text-primary">
                                            <?= htmlspecialchars($category['nom_categorie']); ?>
                                            
                                        </a>
                                    </h5>
                                    <p class="card-text"><?= htmlspecialchars($category['description']); ?></p>
                                </div>
                            <?php endforeach; ?>
                        <?php else : ?>
                            <p class="text-center w-100">No categories available at the moment.</p>
                        <?php endif; ?>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>




            














<div class="tm-section tm-section-pad tm-bg-img tm-position-relative" id="tm-section-5">




<?php
// Include necessary files
include_once 'C:/xampp/htdocs/projetweb2025/Model/sites.php';
include_once 'C:/xampp/htdocs/projetweb2025/Controller/sitesController.php';
include_once 'C:/xampp/htdocs/projetweb2025/Controller/bookmarkController.php';
include_once 'C:/xampp/htdocs/projetweb2025/Controller/reviewsController.php';

// Initialize controllers
$sitesController = new SitesController();
$bookmarkController = new BookmarkController();
$reviewsController = new ReviewsController();

// Example user ID (replace with session-based user ID in production)
$userId = 1;

// Fetch all sites initially
$sitesList = $sitesController->getAllSites();

// Fetch user's bookmarked sites
$userBookmarks = $bookmarkController->getBookmarksByUser($userId);
$bookmarkedSiteIds = array_column($userBookmarks, 'site_id');

// Error container for comment validation
$errors = [];

// Handle comment submission
if ($_SERVER['REQUEST_METHOD'] === 'POST' && isset($_POST['addComment'])) {
    $siteId = intval($_POST['site_id']);
    $commentContent = trim($_POST['contenu']);

    if (empty($commentContent)) {
        $errors[$siteId] = "Comment cannot be empty.";
    } else {
        $reviewsController->addReview($commentContent, $siteId);
    }
}
?>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sites List with Map</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        /* Flex container for sites and map */
        .sites-map-container {
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        /* Sites list styles */
        .sites-list {
            flex: 3;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: flex-start;
        }

        .card {
            width: 300px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .card img {
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            height: 200px;
            object-fit: cover;
        }

        .map-container {
            flex: 1;
            max-height: 600px;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            position: relative;
        }

        .map-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .map-dot {
            cursor: pointer;
            transition: transform 0.3s ease, fill 0.3s ease;
        }

        

        .no-sites-message {
            text-align: left;
            font-size: 1.5rem;
            color: #555;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <div class="container mt-5">
        <h1 class="mb-4 text-center">Sites List with Map</h1>

        <!-- Search Form -->
        <div class="input-group mb-3">
            <input type="text" id="searchInput" class="form-control" placeholder="Search by site name">
        </div>

        <!-- View Bookmarks Button -->
        <div class="text-right mb-3">
            <a href="view_bookmark.php" class="btn btn-info">View Bookmarks</a>
        </div>


        <div class="sites-map-container">
            <!-- Sites List -->
            <div id="sitesContainer" class="sites-list">
                <?php if (!empty($sitesList)) : ?>
                    <?php foreach ($sitesList as $site) : ?>
                        <div class="card site-card" data-title="<?= strtolower(htmlspecialchars($site['nom_site'])); ?>" data-location="<?= strtolower(htmlspecialchars($site['nom_location'])); ?>">
                            <img src="/projetweb2025/uploads/<?php echo htmlspecialchars($site['images']); ?>" 
                                 class="card-img-top" 
                                 alt="<?php echo htmlspecialchars($site['nom_site']); ?>">
                            <div class="card-body text-center">
                                <h5 class="card-title"><?php echo htmlspecialchars($site['nom_site']); ?></h5>
                                <p class="card-text"><?php echo htmlspecialchars($site['description_site']); ?></p>
                                <p class="card-text"><strong>Category:</strong> <?php echo htmlspecialchars($site['nom_categorie']); ?></p>
                                <p class="card-text"><strong>Location:</strong> <?php echo htmlspecialchars($site['nom_location']); ?></p>

                                <!-- Bookmark Buttons -->
                                <?php if (in_array($site['id'], $bookmarkedSiteIds)) : ?>
                                    <button class="btn btn-danger btn-sm toggle-bookmark" 
                                            data-site-id="<?php echo $site['id']; ?>" 
                                            data-action="remove">
                                        Remove Bookmark
                                    </button>
                                <?php else : ?>
                                    <button class="btn btn-primary btn-sm toggle-bookmark" 
                                            data-site-id="<?php echo $site['id']; ?>" 
                                            data-action="add">
                                        Add Bookmark
                                    </button>
                                <?php endif; ?>

                                <!-- Comment Section -->
                                <form method="POST" action="">
                                    <input type="hidden" name="site_id" value="<?php echo $site['id']; ?>">
                                    <div class="form-group">
                                        <textarea name="contenu" class="form-control" rows="2" placeholder="Write your comment..."></textarea>
                                    </div>
                                    <?php if (isset($errors[$site['id']])): ?>
                                        <p class="text-danger"><?php echo $errors[$site['id']]; ?></p>
                                    <?php endif; ?>
                                    <button type="submit" name="addComment" class="btn btn-primary btn-sm">Add Comment</button>
                                    <a href="viewcomments.php?site_id=<?php echo $site['id']; ?>" class="btn btn-info btn-sm">View Comments</a>
                                </form>
                            </div>
                        </div>
                    <?php endforeach; ?>
                <?php else : ?>
                    <div class="no-sites-message">
                        No sites found.
                    </div>
                <?php endif; ?>
            </div>

            <!-- Map Section -->
<div class="map-container">
    <img src="/projetweb2025/uploads/tunisia_map.png" alt="Map of Tunisia">
    <svg viewBox="0 0 300 575" xmlns="http://www.w3.org/2000/svg" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;">
        <!-- Ariana -->
        <circle cx="185" cy="33" r="8" fill="red" data-location="ariana" class="map-dot">
            <title>Ariana</title>
        </circle>
        <!-- Tunis -->
        <circle cx="191" cy="47" r="8" fill="red" data-location="tunis" class="map-dot">
            <title>Tunis</title>
        </circle>
        <!-- Sousse -->
        <circle cx="220" cy="127" r="8" fill="red" data-location="sousse" class="map-dot">
            <title>Sousse</title>
        </circle>
        <!-- Manouba -->
        <circle cx="169" cy="43" r="8" fill="red" data-location="manouba" class="map-dot">
            <title>Manouba</title>
        </circle>
        <!-- Beja -->
        <circle cx="127" cy="60" r="8" fill="red" data-location="beja" class="map-dot">
            <title>Beja</title>
        </circle>
        <!-- Jendouba -->
        <circle cx="82" cy="63" r="8" fill="red" data-location="jendouba" class="map-dot">
            <title>Jendouba</title>
        </circle>
        <!-- Bizerte -->
        <circle cx="146" cy="14" r="8" fill="red" data-location="bizerte" class="map-dot">
            <title>Bizerte</title>
        </circle>
        <!-- Nabeul -->
        <circle cx="238" cy="51" r="8" fill="red" data-location="nabeul" class="map-dot">
            <title>Nabeul</title>
        </circle>
        <!-- Ben Arous -->
        <circle cx="188" cy="56" r="8" fill="red" data-location="ben arous" class="map-dot">
            <title>Ben Arous</title>
        </circle>
        <!-- Zaghouan -->
        <circle cx="174" cy="68" r="8" fill="red" data-location="zaghouan" class="map-dot">
            <title>Zaghouan</title>
        </circle>
        <!-- Siliana -->
        <circle cx="130" cy="98" r="8" fill="red" data-location="siliana" class="map-dot">
            <title>Siliana</title>
        </circle>
        <!-- Kef -->
        <circle cx="77" cy="118" r="8" fill="red" data-location="kef" class="map-dot">
            <title>Kef</title>
        </circle>
        <!-- Kasserine -->
        <circle cx="87" cy="174" r="8" fill="red" data-location="kasserine" class="map-dot">
            <title>Kasserine</title>
        </circle>
        <!-- Kairouan -->
        <circle cx="157" cy="148" r="8" fill="red" data-location="kairouan" class="map-dot">
            <title>Kairouan</title>
        </circle>
        <!-- Monastir -->
        <circle cx="240" cy="143" r="8" fill="red" data-location="monastir" class="map-dot">
            <title>Monastir</title>
        </circle>
        <!-- Mahdia -->
        <circle cx="234" cy="170" r="8" fill="red" data-location="mahdia" class="map-dot">
            <title>Mahdia</title>
        </circle>
        <!-- Sfax -->
        <circle cx="208" cy="225" r="8" fill="red" data-location="sfax" class="map-dot">
            <title>Sfax</title>
        </circle>
        <!-- Sidi Bouzid -->
        <circle cx="142" cy="219" r="8" fill="red" data-location="sidi bouzid" class="map-dot">
            <title>Sidi Bouzid</title>
        </circle>
        <!-- Gafsa -->
        <circle cx="79" cy="243" r="8" fill="red" data-location="gafsa" class="map-dot">
            <title>Gafsa</title>
        </circle>
        <!-- Tozeur -->
        <circle cx="36" cy="283" r="8" fill="red" data-location="tozeur" class="map-dot">
            <title>Tozeur</title>
        </circle>
        <!-- Gabes -->
        <circle cx="176" cy="296" r="8" fill="red" data-location="gabes" class="map-dot">
            <title>Gabes</title>
        </circle>
        <!-- Tataouine -->
        <circle cx="165" cy="451" r="8" fill="red" data-location="tataouine" class="map-dot">
            <title>Tataouine</title>
        </circle>
        <!-- Kebili -->
        <circle cx="102" cy="362" r="8" fill="red" data-location="kebili" class="map-dot">
            <title>Kebili</title>
        </circle>
        <!-- Medenine -->
        <circle cx="242" cy="340" r="8" fill="red" data-location="medenine" class="map-dot">
            <title>Medenine</title>
        </circle>
    </svg>
</div>

        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const mapDots = document.querySelectorAll('.map-dot');
            const siteCards = document.querySelectorAll('.site-card');
            const noSitesMessage = document.querySelector('.no-sites-message');

            // Handle filtering by map dots
            mapDots.forEach(dot => {
                dot.addEventListener('click', function () {
                    const selectedLocation = this.getAttribute('data-location');

                    let visibleCount = 0;

                    siteCards.forEach(card => {
                        const siteLocation = card.getAttribute('data-location');
                        if (siteLocation === selectedLocation) {
                            card.style.display = '';
                            visibleCount++;
                        } else {
                            card.style.display = 'none';
                        }
                    });

                    noSitesMessage.style.display = visibleCount === 0 ? 'block' : 'none';
                });
            });
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const searchInput = document.getElementById('searchInput');
            const siteCards = document.querySelectorAll('.site-card');
            const noSitesMessage = document.querySelector('.no-sites-message');

            searchInput.addEventListener('input', function () {
                const filter = searchInput.value.toLowerCase().trim();
                let visibleCount = 0;

                siteCards.forEach(card => {
                    const title = card.getAttribute('data-title');
                    if (title.includes(filter)) {
                        card.style.display = ''; // Show the card
                        visibleCount++;
                    } else {
                        card.style.display = 'none'; // Hide the card
                    }
                });

                if (visibleCount === 0) {
                    noSitesMessage.style.display = 'block';
                } else {
                    noSitesMessage.style.display = 'none';
                }
            });
        });
    </script>
<script>document.addEventListener('DOMContentLoaded', function () {
    const buttons = document.querySelectorAll('.toggle-bookmark');

    // Handle bookmark toggling
    buttons.forEach(button => {
        button.addEventListener('click', function () {
            const siteId = this.getAttribute('data-site-id'); // Get the site ID from the button
            const action = this.getAttribute('data-action'); // Determine if adding or removing

            // Fetch API to handle the bookmark action
            fetch(`${action}_bookmark.php`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ site_id: siteId }),
            })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        // Toggle button state based on action
                        if (action === 'add') {
                            this.classList.remove('btn-primary');
                            this.classList.add('btn-danger');
                            this.innerText = 'Remove Bookmark';
                            this.setAttribute('data-action', 'remove');
                        } else {
                            this.classList.remove('btn-danger');
                            this.classList.add('btn-primary');
                            this.innerText = 'Add Bookmark';
                            this.setAttribute('data-action', 'add');
                        }

                        // Show success message
                        alert(data.message);
                    } else {
                        // Show error message
                        alert(data.message);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred while processing your request.');
                });
        });
    });
});
</script>
</body>

</html>


</div>






















           
            <div class="tm-section tm-section-pad tm-bg-img tm-position-relative" id="tm-section-6">
                <div class="container ie-h-align-center-fix">
                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-7">
                            <div id="google-map"></div>        
                        </div>
                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-5 mt-3 mt-md-0">
                            <div class="tm-bg-white tm-p-4">
                                <form action="index.html" method="post" class="contact-form">
                                    <div class="form-group">
                                        <input type="text" id="contact_name" name="contact_name" class="form-control" placeholder="Name"  required/>
                                    </div>
                                    <div class="form-group">
                                        <input type="email" id="contact_email" name="contact_email" class="form-control" placeholder="Email"  required/>
                                    </div>
                                    <div class="form-group">
                                        <input type="text" id="contact_subject" name="contact_subject" class="form-control" placeholder="Subject"  required/>
                                    </div>
                                    <div class="form-group">
                                        <textarea id="contact_message" name="contact_message" class="form-control" rows="9" placeholder="Message" required></textarea>
                                    </div>
                                    <button type="submit" class="btn btn-primary tm-btn-primary">Send Message Now</button>
                                </form>
                            </div>                            
                        </div>
                    </div>        
                </div>
            </div>
            
            <footer class="tm-bg-dark-blue">
                <div class="container">
                    <div class="row">
                        <p class="col-sm-12 text-center tm-font-light tm-color-white p-4 tm-margin-b-0">
                        Copyright &copy; <span class="tm-current-year">2018</span> Your Company
                        
                        - Design: <a rel="nofollow" href="https://www.tooplate.com" class="tm-color-primary tm-font-normal" target="_parent">Tooplate</a></p>        
                    </div>
                </div>                
            </footer>
        </div>
        
        <!-- load JS files -->
        <script src="js/jquery-1.11.3.min.js"></script>             <!-- jQuery (https://jquery.com/download/) -->
        <script src="js/popper.min.js"></script>                    <!-- https://popper.js.org/ -->       
        <script src="js/bootstrap.min.js"></script>                 <!-- https://getbootstrap.com/ -->
        <script src="js/datepicker.min.js"></script>                <!-- https://github.com/qodesmith/datepicker -->
        <script src="js/jquery.singlePageNav.min.js"></script>      <!-- Single Page Nav (https://github.com/ChrisWojcik/single-page-nav) -->
        <script src="slick/slick.min.js"></script>                  <!-- http://kenwheeler.github.io/slick/ -->
        <script>

            /* Google map
            ------------------------------------------------*/
            var map = '';
            var center;

            function initialize() {
                var mapOptions = {
                    zoom: 13,
                    center: new google.maps.LatLng(-23.013104,-43.394365),
                    scrollwheel: false
                };

                map = new google.maps.Map(document.getElementById('google-map'),  mapOptions);

                google.maps.event.addDomListener(map, 'idle', function() {
                  calculateCenter();
              });

                google.maps.event.addDomListener(window, 'resize', function() {
                  map.setCenter(center);
              });
            }

            function calculateCenter() {
                center = map.getCenter();
            }

            function loadGoogleMap(){
                var script = document.createElement('script');
                script.type = 'text/javascript';
                script.src = 'https://maps.googleapis.com/maps/api/js?key=AIzaSyDVWt4rJfibfsEDvcuaChUaZRS5NXey1Cs&v=3.exp&sensor=false&' + 'callback=initialize';
                document.body.appendChild(script);
            } 

            function setCarousel() {
                
                if ($('.tm-article-carousel').hasClass('slick-initialized')) {
                    $('.tm-article-carousel').slick('destroy');
                } 

                if($(window).width() < 438){
                    // Slick carousel
                    $('.tm-article-carousel').slick({
                        infinite: false,
                        dots: true,
                        slidesToShow: 1,
                        slidesToScroll: 1
                    });
                }
                else {
                 $('.tm-article-carousel').slick({
                        infinite: false,
                        dots: true,
                        slidesToShow: 2,
                        slidesToScroll: 1
                    });   
                }
            }

            function setPageNav(){
                if($(window).width() > 991) {
                    $('#tm-top-bar').singlePageNav({
                        currentClass:'active',
                        offset: 79
                    });   
                }
                else {
                    $('#tm-top-bar').singlePageNav({
                        currentClass:'active',
                        offset: 65
                    });   
                }
            }

            function togglePlayPause() {
                vid = $('.tmVideo').get(0);

                if(vid.paused) {
                    vid.play();
                    $('.tm-btn-play').hide();
                    $('.tm-btn-pause').show();
                }
                else {
                    vid.pause();
                    $('.tm-btn-play').show();
                    $('.tm-btn-pause').hide();   
                }  
            }
       
            $(document).ready(function(){

                $(window).on("scroll", function() {
                    if($(window).scrollTop() > 100) {
                        $(".tm-top-bar").addClass("active");
                    } else {
                        //remove the background property so it comes transparent again (defined in your css)
                       $(".tm-top-bar").removeClass("active");
                    }
                });      

                // Google Map
                loadGoogleMap();  

                // Date Picker
                const pickerCheckIn = datepicker('#inputCheckIn');
                const pickerCheckOut = datepicker('#inputCheckOut');
                
                // Slick carousel
                setCarousel();
                setPageNav();

                $(window).resize(function() {
                  setCarousel();
                  setPageNav();
                });

                // Close navbar after clicked
                $('.nav-link').click(function(){
                    $('#mainNav').removeClass('show');
                });

                // Control video
                $('.tm-btn-play').click(function() {
                    togglePlayPause();                                      
                });

                $('.tm-btn-pause').click(function() {
                    togglePlayPause();                                      
                });

                // Update the current year in copyright
                $('.tm-current-year').text(new Date().getFullYear());                           
            });

        </script>             

</body>
</html>